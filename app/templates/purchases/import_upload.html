{% extends "base.html" %}
{% block page_title %}Import Purchases CSV{% endblock %}
{% block content %}

<div class="card">
  <div class="card__header">
    <div class="h2">Upload supplier purchases</div>
  </div>
  <div class="card__body">
    <p class="muted" style="margin-top:0;">
      Your CSV can contain multiple purchase orders. Required columns:
      <code>Order Number</code>, <code>SKU</code>, <code>Qty</code>, <code>Net Unit Cost</code>.
      Optional: <code>Company Name</code>, <code>Brand</code>, <code>Order Date</code>, <code>Arrival Date</code>, <code>Packaging</code>, <code>Freight Total</code>.
    </p>

    <form method="post" enctype="multipart/form-data" action="{{ url_for('purchases.import_parse') }}">
      <label class="label">CSV file</label>
      <input class="input" type="file" name="file" accept=".csv,text/csv" />
      <div class="mt-16">
        <button class="btn btn--primary" type="submit">Upload & Preview</button>
        <a class="btn btn--ghost" href="{{ url_for('purchases.list_purchase_orders') }}">Cancel</a>
      </div>
    </form>

    <div class="card mt-16">
      <div class="card__body">
        <div class="h2">Template example</div>
        <pre style="white-space:pre-wrap; margin:8px 0 0;">
Order Number,Company Name,Brand,Order Date,Arrival Date,SKU,Item Description,Qty,Net Unit Cost,Packaging,Freight Total
ML/PROF/2/12/2025,Maylily,Maylily,02/12/2025,10/12/2025,SR-PRZE-MILOBE,Cotton baby booties,10,19.47,0.30,35
        </pre>
      </div>
    </div>
  </div>
</div>

{% endblock %}
